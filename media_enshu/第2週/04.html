<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/w3.css">
        <script type="text/javascript" src="js/vue.dev.js"></script>
        <title>配列の情報追加・表示</title>
    </head>
    <body>
        <!-- Vue.jsで操作する対象としてid付け（名前は任意） -->
        <div id="vue" class="w3-container">
            <h1>Vue.jsでタスク管理</h1>
            <!-- タスク表示用テーブル -->
            <!-- 装飾にW3.cssのクラス群を活用 -->
            <table class="w3-table-all w3-margin-top">
                <tr>
                    <th>タスク名</th>
                    <th>締切</th>
                </tr>
                <!-- tasks配列の中身分繰り返しながら行を表示 -->
                <tr v-for='task in tasks'>
                    <!-- 各列に中身を表示 -->
                    <td>{{task.name}}</td>
                    <td>{{task.date}}</td>
                </tr>
            </table>
            <hr>
            <!-- 新規タスク追加 -->
            <!-- W3.cssの横並び機能を使用 -->
            <div class="w3-row">
                <div class="w3-col w3-third w3-padding">
                    <!-- newtaskのnameと対応 -->
                    <input type="text" class="w3-input w3-border" v-model='newtask.name' placeholder="タスク名">
                </div>
                <div class="w3-col w3-third w3-padding">
                    <!-- newtaskのdateと対応 -->
                    <input type="text" class="w3-input w3-border" v-model='newtask.date' placeholder="締切">
                </div>
                <div class="w3-col w3-third w3-padding">
                    <!-- ボタンをクリックでタスク追加を実行 -->
                    <input type="button" class="w3-btn-block" @click='addTask()' value="新規タスク追加">
                </div>
            </div>
        </div>

        <script type="text/javascript">
            // Vue.js開始>
            new Vue({
                // ページ内のidがvueであるブロックを操作
                el: '#vue',
                // 利用するデータ
                data: {
                    // タスク用配列
                    tasks: [
                        {
                            "name": "履修登録", 
                            "date": "2023/4/19"
                        }, 
                        {
                            "name": "Webデザイン最終課題", 
                            "date": "2023/4/28"
                        }
                    ], 
                    newtask: {"name": "", "date": ""}
                }, 
                // メソッド部分（目的に応じた処理を行う）
                methods: {
                    // タスクを追加
                    addTask: function(){
                        // tasks配列にnewtaskの値を入れて追加
                        this.tasks.push({"name": this.newtask.name, "date": this.newtask.date});
                        // newtaskの値を消す
                        this.newtask.name = "";
                        this.newtask.date = "";
                    }
                }
            });
        </script>
    </body>
</html>